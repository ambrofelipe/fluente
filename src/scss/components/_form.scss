@use "../abstracts" as *;

.subscribe {
	form label {
		display: block;
		position: relative;
		min-width: min(100%, 15rem);

		span {
			position: absolute;
			top: 0.75em;
			width: 100%;
			font-weight: 700;
			color: $T-00;
			text-align: center;
			pointer-events: none;
			transition: all 200ms ease;
			
		}

		input {
			height: 2.5rem;
			width: 100%;
			font-size: inherit;
			font-weight: 700;
			line-height: inherit;
			text-align: center;
			@include input-text;
		}

		&.filled input {
			border-bottom: 3px solid $M-02;
			transition: border-bottom 300ms ease;
			outline: none;
		}

		&.focus span,
		&.filled span {
			top: -0.5em;
			font-size: 0.75em;
		}

		p.error {
			padding: 0.25rem;
			border-radius: 0.25rem;
			background-color: var(--bg-01, $G-00);
			font-weight: 500;
			font-size: 0.85em;
			color: $M-03;
			opacity: 0;
			transition: 300ms ease;
		}

		&[for="check-terms"] {
			@include checkbox-label;

			.terms {
				margin: 1rem 0;
			}

			&.error {
				color: $M-03;

				&::after {
					background: none;
				}
			}

			&.success {
				color: $M-01;

				&::after {
					background: none;
				}
			}
		}

		&.error::after,
		&.success::after {
			content: "";
			position: absolute;
			width: 1.125rem;
			height: 1.125rem;
			top: 30%;
			transform: translateY(-50%);
			right: 1rem;
			background-position: center;
			background-repeat: no-repeat;
		}

		&.error {
			input,
			textarea {
				border-color: $M-02;
				transition: 300ms ease;
			}

			p.error {
				opacity: 1;
				transition: 300ms ease;
			}

			&::after {
				background-image: url(../img/ico/state-error.svg);
			}
		}

		&.success {
			span {
				top: -0.5em;
				font-size: 0.75em;
				color: $T-02;
			}

			input,
			textarea {
				border-color: $M-01;
				transition: 300ms ease;
			}

			p.error {
				opacity: 0;
				transition: 300ms ease;
			}

			&::after {
				background-image: url(../img/ico/state-success.svg);
			}
		}
	}

	form input[type="checkbox"] {
		@include input-checkbox;
	}

	&__button {
		position: relative;
		margin: 1em auto 0;
	}

}